Design a personalized {training_plan_weeks}-week training plan for this athlete.

**Athlete Profile:** {athlete_profile_path}


**Power Zones:**
{power_zones}

**Context Available to You:**
- Performance analysis data showing recent trends, fitness trajectory, and time-in-zones
- Athlete profile with FTP, goals, available training days, and constraints
- Current training status and age considerations
- Power zones calculated above for workout design

**Your Task:**

Design a complete {training_plan_weeks}-week training plan and submit it in ONE CALL to finalize_training_plan.

**Steps to Follow:**

1. **Analyze the Athlete**
   - Review performance data: are they improving, stable, or declining?
   - Identify strengths and limiters based on time-in-zones
   - Consider their goals, age, and available training time

2. **Design Periodization**
   - Plan {training_plan_weeks} weeks with appropriate phases (Foundation, Build, Recovery, Peak, etc.)
   - Set a realistic target FTP based on current trajectory and plan duration
   - Balance intensity with recovery based on athlete's capacity

3. **Create All Workouts**
   - Design workouts for each training day across all {training_plan_weeks} weeks
   - Use the power zones provided above to set appropriate power targets
   - Each workout must include:
     * name: Descriptive workout name
     * description: Purpose and coaching notes
     * segments: Array of segments (warmup, interval, recovery, cooldown, steady)
   - Each segment must have:
     * type: warmup/interval/recovery/cooldown/steady
     * duration_min: Duration in minutes
     * power_low: Lower power target in watts
     * power_high: Upper power target in watts (optional, defaults to power_low)
     * description: Purpose of this segment

4. **Organize Into Weekly Structure**
   - For each week (1 to {training_plan_weeks}), specify:
     * week_number: Week number
     * phase: Training phase name
     * phase_rationale: Why this phase for this week?
     * workouts: Object mapping day names (e.g., "Monday", "Wednesday") to workout objects
     * weekly_focus: Key training stimulus for the week
     * monitoring_notes: What athlete should watch for this week

5. **Write Coaching Guidance**
   - coaching_notes: Comprehensive explanation of:
     * Why you chose this structure
     * How this addresses the athlete's specific needs
     * Your rationale for the target FTP
     * Key success factors
   - monitoring_guidance: What the athlete should monitor:
     * Key performance indicators
     * Warning signs requiring adjustment
     * When to prioritize recovery

6. **Submit Everything in One Call**
   - Call finalize_training_plan with:
     * athlete_profile_json: {athlete_profile_path}
     * total_weeks: {training_plan_weeks}
     * target_ftp: Your determined target FTP
     * weekly_plan: Array of all {training_plan_weeks} weeks with embedded workout objects
     * coaching_notes: Your coaching analysis
     * monitoring_guidance: Monitoring guidance for athlete

**Example Workout Structure:**

```json
{{
  "name": "Threshold Development",
  "description": "Build FTP with sustained sub-threshold efforts",
  "segments": [
    {{"type": "warmup", "duration_min": 15, "power_low": 150, "power_high": 195, "description": "Progressive warm-up Z1-Z2"}},
    {{"type": "interval", "duration_min": 15, "power_low": 234, "power_high": 247, "description": "Threshold effort 90-95% FTP"}},
    {{"type": "recovery", "duration_min": 5, "power_low": 143, "power_high": 143, "description": "Easy spinning recovery"}},
    {{"type": "interval", "duration_min": 15, "power_low": 234, "power_high": 247, "description": "Threshold effort 90-95% FTP"}},
    {{"type": "cooldown", "duration_min": 10, "power_low": 150, "power_high": 120, "description": "Easy recovery spin"}}
  ]
}}
```

**Critical Instructions:**
- This is a PERSONALIZED coaching program - adapt to THIS athlete
- You have ONLY ONE tool: finalize_training_plan
- Design ALL {training_plan_weeks} weeks with ALL workouts, THEN submit everything in ONE CALL
- Do NOT make multiple tool calls - submit the complete plan in a single finalize_training_plan call
- Base your decisions on the actual performance data available to you
